# 智能机器臂喂食控制系统 - 界面说明

## 🖼️ 应用程序界面布局

### 主界面组成

```
┌─────────────────────────────────────────────────────────────────────┐
│                    智能机器臂喂食控制系统                               │
├─────────────────────────────────────────────────────────────────────┤
│ 连接设置                                                             │
│ ┌───────────────────────────────────────────────────────────────────┐ │
│ │ 串口: [COM5 ▼]  波特率: [115200 ▼]     [连接设备]                  │ │
│ │ 状态: 未连接                                                       │ │
│ └───────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────┐ ┌─────────────────────────────────────────────┐ │
│ │ 主要控制            │ │ 运行日志                                     │ │
│ │ ┌─────────────────┐ │ │ ┌─────────────────────────────────────────┐ │ │
│ │ │ 1. 开始喂食     │ │ │ │ [12:00:01] INFO: 应用程序启动完成       │ │ │
│ │ │ 2. 动态跟踪模式 │ │ │ │ [12:00:02] INFO: 请连接设备后使用控制... │ │ │
│ │ │ 3. 停止喂食     │ │ │ │ [12:00:15] INFO: 正在连接到 COM5...     │ │ │
│ │ │ 4. 初始化舵机   │ │ │ │ [12:00:16] INFO: 设备连接成功           │ │ │
│ │ │ 5. 退出程序     │ │ │ │ [12:00:17] INFO: 正在初始化机器臂...    │ │ │
│ │ └─────────────────┘ │ │ │ [12:00:18] INFO: 发送命令: 舵机1 -> 90度│ │ │
│ │                     │ │ │ [12:00:19] INFO: 机器臂初始化完成       │ │ │
│ │ 设备测试            │ │ │ ...                                     │ │ │
│ │ ┌─────────────────┐ │ │ └─────────────────────────────────────────┘ │ │
│ │ │ 测试摄像头      │ │ │ [清除日志] [保存日志]                      │ │
│ │ │ 测试串口        │ │ │                                           │ │
│ │ │ 测试嘴部检测    │ │ │                                           │ │
│ │ └─────────────────┘ │ │                                           │ │
│ │                     │ │                                           │ │
│ │ 手动控制            │ │                                           │ │
│ │ ┌─────────────────┐ │ │                                           │ │
│ │ │舵机1: [90 ] ° 设置│ │                                           │ │
│ │ │舵机2: [130] ° 设置│ │                                           │ │
│ │ │舵机3: [120] ° 设置│ │                                           │ │
│ │ │舵机4: [115] ° 设置│ │                                           │ │
│ │ └─────────────────┘ │ │                                           │ │
│ └─────────────────────┘ └─────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘
```

## 🎮 按钮功能详解

### 主要控制区域

#### 1. 开始喂食 
- **功能**: 执行单次嘴部检测和智能喂食
- **流程**: 
  1. 截取摄像头画面
  2. 检测嘴部位置
  3. 计算舵机调整角度
  4. 执行喂食动作
- **状态**: 需要设备连接

#### 2. 动态跟踪模式
- **功能**: 启动实时嘴部跟踪
- **特点**: 
  - 连续检测嘴部位置
  - 实时调整舵机角度
  - 显示跟踪画面
  - 按'q'键退出
- **状态**: 需要设备连接

#### 3. 停止喂食
- **功能**: 停止所有喂食动作
- **操作**: 
  - 停止当前动作
  - 复位所有舵机
  - 返回初始状态
- **状态**: 任何时候都可用

#### 4. 初始化舵机
- **功能**: 重新初始化舵机位置
- **默认角度**: 
  - 舵机1: 90度
  - 舵机2: 130度
  - 舵机3: 120度
  - 舵机4: 115度
- **状态**: 需要设备连接

#### 5. 退出程序
- **功能**: 安全退出应用程序
- **操作**: 
  - 确认对话框
  - 停止所有动作
  - 断开设备连接
  - 清理资源

### 设备测试区域

#### 测试摄像头
- 打开摄像头验证连接
- 显示2秒测试画面
- 检查画质和设备状态

#### 测试串口
- 验证串口连接
- 检查通信状态
- 确认设备响应

#### 测试嘴部检测
- 启动嘴部检测演示
- 验证MediaPipe功能
- 测试检测精度

### 手动控制区域

#### 舵机角度设置
- **范围**: 0-180度
- **输入**: 数字输入框
- **操作**: 点击"设置"按钮发送命令
- **验证**: 自动检查角度范围

## 🔄 操作流程

### 基本使用流程

1. **启动应用**
   ```
   双击 "启动应用.bat" 或运行 "python app_launcher.py"
   ```

2. **连接设备**
   ```
   选择串口 → 设置波特率 → 点击"连接设备"
   ```

3. **设备测试**（可选）
   ```
   测试摄像头 → 测试串口 → 测试嘴部检测
   ```

4. **开始控制**
   ```
   选择控制模式：
   - 单次喂食: 点击"开始喂食"
   - 实时跟踪: 点击"动态跟踪模式"
   ```

5. **结束操作**
   ```
   点击"停止喂食" → 确认复位 → "退出程序"
   ```

### 高级操作

#### 手动调试模式
1. 连接设备
2. 使用手动控制逐个测试舵机
3. 观察机器臂动作是否正常
4. 调整参数后重新测试

#### 参数优化
1. 通过日志观察检测精度
2. 调整摄像头位置和光线
3. 测试不同角度的检测效果
4. 记录最佳参数配置

## 🚨 状态指示

### 连接状态
- **红色 "未连接"**: 设备未连接，控制功能不可用
- **绿色 "已连接"**: 设备连接正常，所有功能可用

### 按钮状态
- **正常**: 按钮可点击，功能可用
- **禁用**: 按钮灰色，需要满足前置条件

### 日志级别
- **INFO**: 正常操作信息
- **WARNING**: 警告信息，需要注意
- **ERROR**: 错误信息，需要处理

## 💡 使用技巧

1. **首次使用**: 建议先进行设备测试确保硬件正常
2. **调试模式**: 使用手动控制测试每个舵机的响应
3. **日志分析**: 通过日志信息诊断问题和优化参数
4. **保存设置**: 将常用的串口和参数记录下来
5. **安全操作**: 每次操作前确认机器臂周围安全

---

*通过这个直观的图形界面，您可以轻松控制智能机器臂，无需记忆复杂的命令！*
